#26
=
26번 문제에 들어가보면 view-source 외에 아무것도 없다.

![](https://postfiles.pstatic.net/MjAxOTExMjJfMjEx/MDAxNTc0NDAzMTI0NTI2.VRS-LzrC5pO7eDn6qpHjN59po7qbtX3W3hLMY5YdpVog.jJlXjb7A5F6GAYOGz8jtf55kg3meCdAn-2VNKUv0cdkg.JPEG.rlaeoghks823/K-010.jpg?type=w773)

따라서 페이지 소스를 먼저 확인해보았다.

```
<?php
  include "../../config.php";
  if($_GET['view_source']) view_source();
?><html>
<head>
<title>Challenge 26</title>
<style type="text/css">
body { background:black; color:white; font-size:10pt; }    
a { color:lightgreen; }
</style>
</head>
<body>
<?php
  if(preg_match("/admin/",$_GET['id'])) { echo"no!"; exit(); }
  $_GET['id'] = urldecode($_GET['id']);
  if($_GET['id'] == "admin"){
    solve(26);
  }
?>
<br><br>
<a href=?view_source=1>view-source</a>
</body>
</html>
```

`get`방식으로 `id`가 `admin`이면 문제가 해결된다는 것을 확인 할 수 있었다.
그런데 admin이라는 값이 들어오면 `no`라는 메세지와 함께 종료가 되므로 이를 우회하기 위해 한번 인코딩을 해줘서 값을 넣어주었으나..

> admin -> %61%64%6D%69%6E

서버에서 한번 인코딩해주는 것때매 자동으로 admin으로 다시 디코딩되서 `preg_match`에 걸려버림을 확인 할 수 있었다.

이 문제를 해결하기 위해 총 두번 인코딩을 시켜주었고   
> admin -> %61%64%6D%69%6E -> %2561%2564%256D%2569%256E

admin 대신 %2561%2564%256D%2569%256E 값을 넣어주자 문제가 해결되는 것을 확인 할 수 있었다.

이것이 가능한 이유는 
`$_GET['id'] = urldecode($_GET['id']);`  
여기서 한번 더 디코딩을 해주기 떄문인다.

## 참고

### get 함수
+ action에 명시된 URL의 주소 뒤에 ?를 붙이고 변수명과 값을 쌍으로 해서 원 하는 정보를 전달하게 되고, 변수가 여러 개일 경우에는 &로 구분된다.  
+ GET방식은 간단하게 변수를 통하여 원하는 값을 전달할 때 사용하며, 웹 브라우저의 주소 창에 전달되는 값이 노출되는 단점이 있어 보안 측면이 취약하다.
